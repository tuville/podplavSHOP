from aiogram import types, Dispatcher
from aiogram.dispatcher.filters import Text
from config import dp, bot
from data_base import db_script
from handlers import checkout_handler_md
from keyboard import kb_menu_main
from keyboard.kb_menu_main import kb_menu_user

async def command_start(message: types.Message):
    await message.answer(f'üëãüèº <b>{message.from_user.first_name}</b>, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –í–∞—Å –≤ –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ!\n\n'
                         '–ó–¥–µ—Å—å –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ä–∞–±–æ—á–∏–µ –∫–æ—Å—Ç—é–º—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –í–æ–µ–Ω–Ω–æ-–º–æ—Ä—Å–∫–æ–≥–æ —Ñ–ª–æ—Ç–∞‚öìÔ∏è\n\n'
                         '‚ÄºÔ∏è–ê–ö–¶–ò–Ø‚ÄºÔ∏è –ö–∞–∂–¥—ã–π 5Ô∏è‚É£ –∫–æ—Å—Ç—é–º –æ–±–æ–π–¥–µ—Ç—Å—è –í–∞–º —Å–æ —Å–∫–∏–¥–∫–æ–π 50%üéÅ\n'
                         '–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —É—Ç–æ—á–Ω—è–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ "‚ùóÔ∏è–í–∞–∂–Ω–æ" –∏–ª–∏ —É –Ω–∞—à–µ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞.\n\n'
                         '–ü–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º , –∞ —Ç–∞–∫–∂–µ –≥—Ä—É–ø–ø–æ–≤—ã–º –∑–∞–∫–∞–∑–∞–º,'
                         '–í—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –Ω–∞—à–µ–º—É –º–µ–¥–µ–¥–∂–µ—Ä—É: @manager_podplavüì≤\n\n'
                         '–ù–∞—á–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä ‚¨áÔ∏è', reply_markup=kb_menu_main.kbIn_start)

@dp.callback_query_handler(lambda c: c.data == 'start_yes')
async def start_yes_callback (call: types.CallbackQuery):
    await call.message.answer('–û—Ç–ª–∏—á–Ω–æ! –•–æ—Ä–æ—à–∏—Ö –ø–æ–∫—É–ø–æ–∫!', reply_markup=kb_menu_user)
    await button_catalog(call.message)

@dp.callback_query_handler(lambda c: c.data == 'start_not')
async def start_not_callback (call: types.CallbackQuery):
    await call.message.answer('–û—á–µ–Ω—å –∂–∞–ª—å, –Ω–æ —Å–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–µ—Ç–µ, –ø–æ—Å–º–æ—Ç—Ä–µ–≤ –∫–∞—Ç–∞–ª–æ–≥ –æ–¥–Ω–∏–º –≥–ª–∞–∑–∫–æ–º?ü´£', reply_markup=kb_menu_user)

# –ö–Ω–æ–ø–∫–∞ "–û—Å–Ω–æ–≤–Ω–æ–µ –º–µ–Ω—é"
async def button_main_menu(message: types.Message):
    await message.answer('–í—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –º–µ–Ω—é! –≤—ã–±–µ—Ä–∏ –ø—É–Ω–∫—Ç –º–µ–Ω—é!', reply_markup=kb_menu_user)

#–ö–Ω–æ–ø–∫–∞ "–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã"
async def button_contact(message: types.Message):
    await message.answer('<b>–ù–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã:</b>\n'
                         '–ü–æ –≤—Å–µ–º –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–º –≤–æ–ø—Ä–æ—Å–∞–º –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–º—É –º–µ–Ω–µ–¥–∂–µ—Ä—É:\n'
                         '–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω: <b>+79965610201</b>\n'
                         'telegram: @manager_podplav', reply_markup=kb_menu_user)

#–ö–Ω–æ–ø–∫–∞ "–¢–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–º–µ—Ä–æ–≤"
async def button_size(message: types.Message):
    await bot.send_photo(message.from_user.id, types.InputFile('size_table.jpeg'))
    await message.answer('üö® <b> –í–ê–ñ–ù–û!</b>\n\n'
            '1. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–∫–∞–∑–∞—Ç—å —Ä–∞–∑–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—Ä—é–∫ –∏ –∫—É—Ä—Ç–∫–∏, –¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ –∑–∞–±—É–¥—å—Ç–µ —É–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã '
                    '–ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞. –î–∞–Ω–Ω–∞—è –æ–ø—Ü–∏—è —Å—Ç–æ–∏—Ç <b>+200 RUB</b> –∫ –∑–∞–∫–∞–∑—É.\n\n'
            '2. –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –í—ã –æ—à–∏–±–ª–∏—Å—å —Å —Ä–∞–∑–º–µ—Ä–æ–º, –º—ã <b>–ë–ï–°–ü–õ–ê–¢–ù–û</b> –ø–æ–º–µ–Ω—è–µ–º –∫–æ—Å—Ç—é–º –Ω–∞ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π, —Å –¥—Ä—É–≥–∏–º —Ä–∞–∑–º–µ—Ä–æ–º, '
                    '–ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏, —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Ç–æ–≤–∞—Ä–Ω—ã–π –≤–∏–¥. –ü–µ—Ä–µ—Å—ã–ª–∫–∞ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑—á–∏–∫–æ–º.\n\n'
            '3. üîÑ <b> –í–û–ó–í–†–ê–¢</b>. –í –∫–æ–º–ø–ª–µ–∫—Ç –∫–æ—Å—Ç—é–º–∞ –≤—Ö–æ–¥–∏—Ç –∂–µ—Ç–æ–Ω —Å —Å–µ—Ä–∏–π–Ω—ã–º –Ω–æ–º–µ—Ä–æ–º –∫–æ–º–ø–ª–µ–∫—Ç–∞. –î–ª—è –∫–∞–∂–¥–æ–≥–æ '
                    '–∑–∞–∫–∞–∑–∞ –æ–Ω –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª–µ–Ω –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –µ–≥–æ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—Ç –∂–µ—Ç–æ–Ω–∞ –≤–º–µ—Å—Ç–µ '
                    '—Å –∫–æ—Å—Ç—é–º–æ–º <b>–û–ë–Ø–ó–ê–¢–ï–õ–ï–ù.</b> –í–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∏–ª–∏ –æ–±–º–µ–Ω –±–µ–∑ –∂–µ—Ç–æ–Ω–∞ <b>–ù–ï</b> –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è!'
            '4. –ï—Å–ª–∏ –í—ã –Ω–µ–º–Ω–æ–≥–æ –æ—à–∏–±–ª–∏—Å—å —Å —Ä–æ—Å—Ç–æ–º –∏ –∑–∞–∫–∞–∑–∞–ª–∏ –∫–æ—Å—Ç—é–º –¥–ª–∏–Ω–Ω–µ–µ, –ø–µ—Ä–µ–¥ —É–∫–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º –∏ –ø–æ–¥—à–∏–≤–æ–º,'
                    '—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –í–∞–º —Å–¥–µ–ª–∞—Ç—å —ç—Ç–æ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π —Å—Ç–∏—Ä–∫–∏.\n\n'
            '5. –ú—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä, —á—Ç–æ–±—ã –∫–æ—Å—Ç—é–º —Å–∏–¥–µ–ª –Ω–∞ –≤–∞—Å —Å–ª–µ–≥–∫–∞ —Å–≤–æ–±–æ–¥–Ω–æ, –Ω–µ —Å—Ç–µ—Å–Ω—è—è –¥–≤–∏–∂–µ–Ω–∏–π.\n\n'
            '6. –ï—Å–ª–∏ —Ç—ã –∑–∞–∫–∞–∑–∞–ª –∫–æ—Å—Ç—é–º –∏ —Ç–µ–±–µ –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å, –Ω–µ —Å—Ç–æ–∏—Ç —Å–∫—Ä—ã–≤–∞—Ç—å —ç—Ç—É –Ω–∞—Ö–æ–¥–∫—É –æ—Ç —Å–≤–æ–∏—Ö –∫–æ–ª–ª–µ–≥. –î–∞–∂–µ –µ—Å–ª–∏ '
                    '—ç—Ç–æ—Ç –∫–æ–ª–ª–µ–≥–∞ —Ç–≤–æ–π –∑–ª–æ–π –Ω–∞—á–∞–ª—å–Ω–∏–∫.\n\n'
            '<B>–í–¥—Ä—É–≥ –æ–Ω —Ç–∞–∫–æ–π –∑–ª–æ–π, –ø–æ—Ç–æ–º—É, —á—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –Ω–æ—Å–∏–ª —Ö–æ—Ä–æ—à–µ–≥–æ –∫–æ—Å—Ç—é–º–∞?</b>üòé', reply_markup=kb_menu_user)

#–ö–Ω–æ–ø–∫–∞ "–î–æ—Å—Ç–∞–≤–∫–∞"
async def button_delivery(message: types.Message):
        await message.answer('<b> –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –¥–æ—Å—Ç–∞–≤–∫–µ: </b> \n\n'
                             '–ú—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º –æ—Ç–ø—Ä–∞–≤–∫—É –≤ –¥–≤—É—Ö–¥–Ω–µ–≤–Ω—ã–π —Å—Ä–æ–∫ (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –¥–µ–Ω—å –∑–∞–∫–∞–∑–∞),'
                             '–µ—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –í–∞–º–∏ –∫–æ—Å—Ç—é–º –∏ —Ä–∞–∑–º–µ—Ä –µ—Å—Ç—å –≤ –Ω–∞–ª–∏—á–∏–∏.\n\n'
                            '–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –º—ã –º–æ–∂–µ–º –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –í–∞–º –∑–∞–∫–∞–∑ —Ç–æ–ª—å–∫–æ –ø–æ—á—Ç–æ–π –†–æ—Å—Å–∏–∏, '
                            '–Ω–æ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º —ç—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞.üôÑ\n\n'
                            '<b> –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ—á—Ç–æ–π –≤–æ–∑–º–æ–∂–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö:</b>\n'
                            '- EMS üöÄ 6-8 –¥–Ω–µ–π;\n'
                            '- 1 –∫–ª–∞—Å—Å ‚úàÔ∏è 7-9 –¥–Ω–µ–π;\n'
                            '- –æ–±—ã—á–Ω–æ–π –ø–æ—Å—ã–ª–∫–æ–π üöä12-14 –¥–Ω–µ–π.\n'
                            ' –î–æ—Å—Ç–∞–≤–∫—É –æ–ø–ª–∞—á–∏–≤–∞–µ—Ç –∑–∞–∫–∞–∑—á–∏–∫ –≤–º–µ—Å—Ç–µ —Å –æ–ø–ª–∞—Ç–æ–π –∫–æ—Å—Ç—é–º–∞.\n\n'
                             '<b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –æ–ø–ª–∞—Ç–µ:</b>\n'
                             '–ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –ø–æ <b>100% –æ–ø–ª–∞—Ç–µ —Ç–æ–≤–∞—Ä–∞</b>, –ø–µ—Ä–µ–≤–æ–¥–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π —Å—É–º–º—ã –Ω–∞ –∫–∞—Ä—Ç—Éüí≥\n'
                             '2202201904667470\n–ö–∏—Ä–∏–ª–ª –ê–ª–µ–∫—Å–µ–µ–≤–∏—á –®\n'
                             '–°–∫—Ä–∏–Ω –æ–± –æ–ø–ª–∞—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–∏—Å–ª–∞—Ç—å –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø–æ—Å–ª–µ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞üì≤'
                             '', reply_markup=kb_menu_user)

#–ö–Ω–æ–ø–∫–∞ "–ö–∞—Ç–∞–ª–æ–≥"
async def button_catalog(message: types.Message):
        await message.answer('–ù–µ –∑–∞–±—É–¥—å—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ –Ω–∞ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–π—Å—è –∫–æ–º–ø–ª–µ–∫—Ç üõí')
        await db_script.sqlDB_catalogRB_read(message)

#–ö–Ω–æ–ø–∫–∞ "–ö—É–ø–∏—Ç—å"
async def button_buy(message: types.Message):
    await checkout_handler_md.start_buy(message)

# –ö–Ω–æ–ø–∫–∞ "FAQ"
async def button_faq(message: types.Message):
    await message.answer('–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è! \n\n'
                         '–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ <b>‚ÄºÔ∏è–∞–∫—Ü–∏–∏‚ÄºÔ∏è:</b>\n'
                         '–ù–∞ –∫–∞–∂–¥—ã–π –ø—è—Ç—ã–π –∫—É–ø–ª–µ–Ω–Ω—ã–π —É –Ω–∞—Å –∫–æ—Å—Ç—é–º –í—ã –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É 50% –æ—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–π —Ü–µ–Ω—ã.\n\n'
                         '<b>–ü—Ä–∞–≤–∏–ª–∞ —É—Ö–æ–¥–∞ –∑–∞ –∫–æ—Å—Ç—é–º–æ–º:</b>\n'
                            '- –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –º–∞—à–∏–Ω–Ω–∞—è —Å—Ç–∏—Ä–∫–∞ –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –Ω–µ –≤—ã—à–µ 40‚ÑÉ;üß∫\n'
                            '- –≥–ª–∞–∂–µ–Ω—å–µ –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –Ω–µ –±–æ–ª–µ–µ 150‚ÑÉ;üí®\n'
                            '- –≤–æ–∑–º–æ–∂–Ω–∞ –±–∞—Ä–∞–±–∞–Ω–Ω–∞—è —Å—É—à–∫–∞ –ø—Ä–∏ –æ–±—ã—á–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ;\n'
                            '- –Ω–µ –æ—Ç–±–µ–ª–∏–≤–∞—Ç—å.üôÖ\n'
                            '\n'
                        '<b>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –≤–Ω–µ—Å–µ–Ω–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π:</b>\n'
                        '–ü—Ä–∏ –∑–∞–∫–∞–∑–µ –ø–∞—Ä—Ç–∏–∏ –æ—Ç 50 —à—Ç—É–∫, –í—ã –º–æ–∂–µ—Ç–µ –ø–æ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–∏ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –≤–Ω–µ—Å—Ç–∏ —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:\n'
                            '- —Ç–∏–ø —Ç–∫–∞–Ω–∏;\n'
                            '- —Ü–≤–µ—Ç —Ç–∫–∞–Ω–∏;\n'
                            '- —É–±—Ä–∞—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–µ—Ç–æ–æ—Ç—Ä–∞–∂–∞—é—â–∏–µ –ø–æ–ª–æ—Å—ã;\n'
                            '- –¥–æ–±–∞–≤–∏—Ç—å –í–∞—à –≥–µ—Ä–±/–ª–æ–≥–æ—Ç–∏–ø/–Ω–∞–¥–ø–∏—Å—å;\n'
                            '- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–∞—Ä–º–∞–Ω –∏–ª–∏ –æ—Ç–¥–µ–ª–µ–Ω–∏—è –¥–ª—è —Ä—É—á–µ–∫.\n'
                            '(–Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞—Ç–Ω—ã–µ, –∫–æ–Ω–µ—á–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–≤–∏—Å–∏—Ç, –æ—Ç –ø–∞—Ä—Ç–∏–∏)'
                         '', reply_markup=kb_menu_user)

def register_handlers_user(dp: Dispatcher):
    dp.register_message_handler(command_start, commands=['start'])
    dp.register_message_handler(button_main_menu, Text(equals=kb_menu_main.menu_name_btn, ignore_case=True))
    dp.register_message_handler(button_contact, Text(equals=kb_menu_main.contact_name_btn, ignore_case=True))
    dp.register_message_handler(button_size, Text(equals=kb_menu_main.size_name_btn, ignore_case=True))
    dp.register_message_handler(button_delivery, Text(equals=kb_menu_main.delivery_name_btn, ignore_case=True))
    dp.register_message_handler(button_catalog, Text(equals=kb_menu_main.catalog_name_btn, ignore_case=True))
    dp.register_message_handler(button_buy, Text(equals=kb_menu_main.buy_name_btn, ignore_case=True))
    dp.register_message_handler(button_faq, Text(equals=kb_menu_main.info_name_btn, ignore_case=True))